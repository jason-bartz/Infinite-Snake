/* Emergency Mobile UI Fix - Force correct positioning and visibility */

/* Ensure boost button is on the right side */
body.mobile .boost-button {
    position: absolute !important;
    bottom: 40px !important;
    right: 40px !important;
    left: auto !important;
    width: 100px !important;
    height: 100px !important;
    z-index: 100 !important;
}

/* Force joystick to stay on left */
body.mobile .virtual-joystick {
    position: absolute !important;
    bottom: 40px !important;
    left: 40px !important;
    right: auto !important;
    z-index: 100 !important;
}

/* CRITICAL FIX: Force visibility and positioning of player info box */
body.mobile .player-info-box {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    position: fixed !important;
    top: 10px !important;
    left: -240px !important; /* Position off-screen but tab visible */
    bottom: auto !important;
    right: auto !important;
    transform: none !important;
    transition: left 0.3s ease-out !important;
    z-index: 100 !important;
    width: 280px !important;
    max-width: 80vw !important;
    overflow: visible !important; /* Allow tab to show */
}

body.mobile .player-info-box.expanded {
    left: 0 !important;
}

/* CRITICAL FIX: Force visibility and positioning of leaderboard */
body.mobile .leaderboard-box {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    position: fixed !important;
    top: 10px !important;
    right: -240px !important; /* Position off-screen but tab visible */
    bottom: auto !important;
    left: auto !important;
    transform: none !important;
    transition: right 0.3s ease-out !important;
    z-index: 100 !important;
    width: 280px !important;
    max-width: 80vw !important;
    overflow: visible !important; /* Allow tab to show */
}

body.mobile .leaderboard-box.expanded {
    right: 0 !important;
}

/* Ensure discovery feed is visible */
body.mobile .discovery-feed {
    display: flex !important;
    visibility: visible !important;
}

/* Force hide the old boost bar */
body.mobile .boost-bar-container,
body.mobile .boost-bar-frame,
body.mobile .boost-bar-fill {
    display: none !important;
    height: 0 !important;
    visibility: hidden !important;
    opacity: 0 !important;
}

/* Remove debug borders - elements confirmed to exist */

/* CRITICAL: Force the tab handles to appear */
body.mobile .player-info-box::after {
    content: '' !important;
    display: block !important;
    position: absolute !important;
    right: -50px !important;
    top: 10px !important;
    width: 50px !important;
    height: 70px !important;
    background: rgba(16, 16, 64, 0.9) !important;
    border: 2px solid var(--snes-light-blue) !important;
    border-left: none !important;
    border-radius: 0 8px 8px 0 !important;
    cursor: pointer !important;
    z-index: 102 !important;
    pointer-events: auto !important;
}

body.mobile .player-info-box::before {
    content: '' !important;
    display: block !important;
    position: absolute !important;
    right: -40px !important;
    top: 18px !important;
    width: 44px !important;
    height: 44px !important;
    background-image: var(--player-skin-url, url('../skins/snake-default-green.png')) !important;
    background-size: contain !important;
    background-repeat: no-repeat !important;
    background-position: center !important;
    pointer-events: none !important;
    z-index: 103 !important;
}

body.mobile .leaderboard-box::after {
    content: 'üèÜ' !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    position: absolute !important;
    left: -50px !important;
    top: 10px !important;
    width: 50px !important;
    height: 70px !important;
    background: rgba(0, 0, 0, 0.9) !important;
    border: 2px solid var(--snes-white) !important;
    border-right: none !important;
    border-radius: 8px 0 0 8px !important;
    cursor: pointer !important;
    font-size: 24px !important;
    z-index: 102 !important;
    pointer-events: auto !important;
}