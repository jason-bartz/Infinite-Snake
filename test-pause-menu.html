<!DOCTYPE html>
<html>
<head>
    <title>Test Pause Menu</title>
    <style>
        body {
            background: #222;
            color: white;
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        button {
            margin: 10px;
            padding: 10px 20px;
            background: #4ecdc4;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .test-results {
            background: #333;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .success { color: #4ecdc4; }
        .error { color: #ff6b6b; }
    </style>
</head>
<body>
    <h1>Test Pause Menu Functions</h1>
    
    <button onclick="testLocalStorage()">Test localStorage</button>
    <button onclick="clearLocalStorage()">Clear localStorage</button>
    <button onclick="setTestData()">Set Test Data</button>
    
    <div id="results" class="test-results"></div>
    
    <script>
        function log(message, isError = false) {
            const results = document.getElementById('results');
            const div = document.createElement('div');
            div.className = isError ? 'error' : 'success';
            div.textContent = message;
            results.appendChild(div);
        }
        
        function testLocalStorage() {
            const results = document.getElementById('results');
            results.innerHTML = '';
            
            // Test highScore
            const highScore = localStorage.getItem('highScore');
            log(`highScore: ${highScore || 'not set'}`);
            
            // Test unlockedSkins
            const unlockedSkins = localStorage.getItem('unlockedSkins');
            log(`unlockedSkins: ${unlockedSkins || 'not set'}`);
            if (unlockedSkins) {
                try {
                    const skins = JSON.parse(unlockedSkins);
                    log(`  - Number of unlocked skins: ${skins.length}`);
                    log(`  - Skins: ${skins.join(', ')}`);
                } catch (e) {
                    log(`  - Error parsing skins: ${e.message}`, true);
                }
            }
            
            // Test currentSkin
            const currentSkin = localStorage.getItem('currentSkin');
            log(`currentSkin: ${currentSkin || 'not set'}`);
            
            // Test allTimeDiscoveries
            const discoveries = localStorage.getItem('allTimeDiscoveries');
            log(`allTimeDiscoveries: ${discoveries ? 'found' : 'not set'}`);
            if (discoveries) {
                try {
                    const parsed = JSON.parse(discoveries);
                    log(`  - Number of discoveries: ${parsed.length}`);
                } catch (e) {
                    log(`  - Error parsing discoveries: ${e.message}`, true);
                }
            }
        }
        
        function clearLocalStorage() {
            if (confirm('Clear all game data?')) {
                localStorage.removeItem('highScore');
                localStorage.removeItem('unlockedSkins');
                localStorage.removeItem('currentSkin');
                localStorage.removeItem('allTimeDiscoveries');
                log('localStorage cleared!');
            }
        }
        
        function setTestData() {
            // Set high score
            localStorage.setItem('highScore', '250000');
            
            // Set unlocked skins
            const testSkins = ['snake-default-green', 'neko', '35mm', 'Frank'];
            localStorage.setItem('unlockedSkins', JSON.stringify(testSkins));
            
            // Set current skin
            localStorage.setItem('currentSkin', 'snake-default-green');
            
            // Set discoveries
            const testDiscoveries = [
                ['fire', 'Base Element'],
                ['water', 'Base Element'],
                ['earth', 'Base Element'],
                ['air', 'Base Element'],
                ['steam', 'Fire + Water'],
                ['lava', 'Fire + Earth'],
                ['mud', 'Water + Earth']
            ];
            localStorage.setItem('allTimeDiscoveries', JSON.stringify(testDiscoveries));
            
            log('Test data set successfully!');
            log('High Score: 250,000');
            log('Unlocked Skins: ' + testSkins.join(', '));
            log('Discoveries: ' + testDiscoveries.length + ' elements');
        }
        
        // Run test on load
        testLocalStorage();
    </script>
</body>
</html>